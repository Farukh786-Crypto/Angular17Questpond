<div class="container">
  <h2>Product Model Driven (Reactive) Form</h2>
  <p>This is a simple Model driven form to capture product details. The form</p>
  <hr />
  <div class="alert alert-info">
    <strong>Note:</strong> This form uses Angular's Model-driven approach.
    Ensure you have imported the FormsModule and ReactiveFormsModule in your
    module.
  </div>
  <hr />
  <div class="row">
    <div class="col-lg-6">
      <form [formGroup]="productForm">
        <div class="form-group">
          <label>Product Id</label>
          <input
            type="text"
            class="form-control"
            name="productId"
            formControlName="productid"
          />
          <div *ngIf="onFormControl('productid')" class="text-danger">
            Product Id is required.
          </div>
        </div>
        <div class="form-group">
          <label>Product Code</label>
          <input
            type="text"
            class="form-control"
            name="productCame"
            formControlName="productcode"
          />
          <div *ngIf="onFormControl('productcode')" class="text-danger">
            Product Code is required.
          </div>
        </div>
        <div class="form-group">
          <label>Product Name</label>
          <input
            type="text"
            class="form-control"
            name="productName"
            formControlName="productname"
          />
          <div *ngIf="onFormControl('productname')" class="text-danger">
            <span *ngIf="hasError('productname', 'required')">
              Product Name is required.
            </span>
            <span *ngIf="hasError('productname', 'pattern')">
              Only alphanumeric characters and spaces are allowed.
            </span>
          </div>
        </div>
        <div class="form-group">
          <label>Product Price</label>
          <input
            type="text"
            class="form-control"
            name="productPrice"
            formControlName="productprice"
          />
          <div *ngIf="onFormControl('productprice')" class="text-danger">
            Product Price is required.
          </div>
        </div>
        <button
          type="submit"
          class="btn btn-outline-primary"
          (click)="AddSkill()"
        >
          Add Skill
        </button>
        <div formArrayName="skills">
          <div
            *ngFor="let skill of skills.controls; let i = index"
            [formGroupName]="i"
            class="form-group mb-3"
          >
            <ng-container>
              <label>Product Skill Name</label>
              <input type="text" class="form-control" formControlName="name" />
              <label> Product Skill Level </label>
              <input type="text" class="form-control" formControlName="level" />
              <div *ngIf="onSkillInvalid(i)" class="text-danger">
                Both Skill Name and Level are Required.
              </div>
            </ng-container>
            <button class="btn btn-sm btn-danger" (click)="removeSkill(i)">
              Remove
            </button>
          </div>
        </div>
        <div formGroupName="description">
          <h5>Description</h5>
          <div class="form-group">
            <label>Product Short Description</label>
            <input
              type="text"
              class="form-control"
              name="productShortDesc"
              formControlName="productshortdesc"
            />
            <div *ngIf="onFormControl('productshortdesc')" class="text-danger">
              Product Short Description is required.
            </div>
          </div>
          <div class="form-group">
            <label>Product Long Description</label>
            <textarea
              class="form-control"
              name="productLongDesc"
              formControlName="productlongdesc"
            ></textarea>
            <div *ngIf="onFormControl('productlongdesc')" class="text-danger">
              Product Long Description is required.
            </div>
          </div>
        </div>
        <div>
          <button
            type="submit"
            class="btn btn-primary me-2"
            (click)="onSubmit()"
          >
            Submit
          </button>
          <button
            type="submit"
            class="btn btn-warning me-2"
            (click)="disabledValidation()"
          >
            Disabled Validation
          </button>
          <button type="submit" class="btn btn-dark me-2" (click)="Reset()">
            Reset
          </button>
          <button
            type="submit"
            class="btn btn-outline-primary me-2"
            (click)="UpdateForm()"
          >
            Update
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
